<project name="report-expanded" default="pdf" basedir=".">
	<description>
        ant build file to automate the creation of my expanded report docbook
    </description>
	<!-- set global properties for this build -->
	<property name="dist" location="report-expanded" />

	<target name="init" description="sets up the directory and copies files over">
		<!-- Create the time stamp -->
		<tstamp prefix="start" />
		<!-- Create the build directory structure used by compile -->
		<mkdir dir="${dist}-${start}" />
		<copy todir="${dist}-${start}">
			<fileset dir="images" />
		</copy>
		<copy file="carlos.css" todir="${dist}-${tstamp}" />
	</target>
	<target name="pdf" description="pdf processing" depends="init">
		<java jar="saxon/saxon.jar" fork="true" failonerror="true">
			<arg value="-oreport-expanded.fo" />
			<arg value="report-expanded.xml" />
			<arg value="xsl\fo\docbook.xsl" />
		</java>
		<exec executable="fop/fop.bat" spawn="true">
			<arg value="report-expanded.fo" />
			<arg value="report-expanded.pdf" />
		</exec>
	</target>
	<target name="clean" description="clean up">
		<!-- Delete the ${build} and ${dist} directory trees -->
		<delete dir="${dist}-${start}" />
	</target>
</project>